//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import "WAChatDataStoreCoordinator.h"

#import "CLLocationManagerDelegate-Protocol.h"
#import "WALocationSourceDelegate-Protocol.h"

@class CLLocation, NSDate, NSMutableDictionary, NSMutableSet, NSString, WALiveLocationReportingSession, WALocationSource, WARateLimitedOperation, WARollingWindow, WAWeakTimer, XMPPConnection, XMPPNotificationStanza;

@interface WALiveLocationController : WAChatDataStoreCoordinator <CLLocationManagerDelegate, WALocationSourceDelegate>
{
    WALocationSource *_locationSource;
    NSMutableDictionary *_retryCountForRecipient;
    WARateLimitedOperation *_sendRetryRateLimit;
    WARateLimitedOperation *_requestRetryRateLimit;
    WARateLimitedOperation *_locationUpdateRateLimit;
    XMPPNotificationStanza *_unackedKeyDistributionNotification;
    NSMutableDictionary *_unackedRetryKeyDistributionNotifications;
    WAWeakTimer *_stopReportingTimer;
    NSMutableSet *_retryDeniedFrom;
    WARollingWindow *_reportingRollingWindow;
    WARollingWindow *_sharingRollingWindow;
    int _backoffStage;
    WALiveLocationReportingSession *_reportingSession;
    BOOL _sendPushBackoffWhenPossible;
    int _reportLocationCount;
    BOOL _haveLocationSubscribers;
    XMPPConnection *_xmppConnection;
    CLLocation *_lastReportedLocation;
    NSString *_lastReprotedLocationSource;
    NSDate *_reportingLocationEndDate;
}

@property(retain, nonatomic) NSDate *reportingLocationEndDate; // @synthesize reportingLocationEndDate=_reportingLocationEndDate;
@property(copy) NSString *lastReprotedLocationSource; // @synthesize lastReprotedLocationSource=_lastReprotedLocationSource;
@property(nonatomic) BOOL haveLocationSubscribers; // @synthesize haveLocationSubscribers=_haveLocationSubscribers;
@property(retain) CLLocation *lastReportedLocation; // @synthesize lastReportedLocation=_lastReportedLocation;
@property(readonly, nonatomic) XMPPConnection *xmppConnection; // @synthesize xmppConnection=_xmppConnection;
- (void).cxx_destruct;
- (void)processIncomingLocationNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleUserDisabledLocationSharingNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)willSubmitDailyStats:(id)arg1;
- (void)userDidLeaveGroup:(id)arg1;
- (void)checkForLocationKeyEligibilityChange:(id)arg1;
- (void)locationSharingDidEnd:(id)arg1;
- (void)e2eIdentityChanged:(id)arg1;
- (void)willRevokeMessages:(id)arg1;
- (void)xmppConnectionStateDidChange:(id)arg1;
- (void)willDeleteMessages:(id)arg1;
- (void)stopLocationSharingInAllChats;
- (void)addLocationRecipientsToStorageForChatNamed:(id)arg1 endDate:(id)arg2;
- (double)locationSourceDesiredAccuracy:(id)arg1;
- (void)locationSource:(id)arg1 didChangeAuthorization:(int)arg2;
- (void)locationSource:(id)arg1 didUpdateLocations:(id)arg2;
- (id)descriptionForLocationSource:(id)arg1;
- (BOOL)shouldReportLocation:(id)arg1 source:(id)arg2;
- (void)locationSource:(id)arg1 didFailWithError:(id)arg2;
- (void)didLogSharingTerminationForMessage:(id)arg1;
- (BOOL)locationSharingDidEndForMessage:(id)arg1 reason:(int)arg2;
- (double)locationSharingDurationForMessage:(id)arg1;
- (BOOL)locationSharingDidEndForChatSession:(id)arg1 reason:(int)arg2;
- (id)currentLocationSharingMessageFromMeInChatSession:(id)arg1;
- (void)checkForSharingEnded;
- (void)startErasingExpiredCachedLocationMessages;
- (void)didChangeDataStoreReadiness;
- (BOOL)enterOrLeaveSharingRollingWindow;
- (void)scheduleExpirationTimerForMessage:(id)arg1;
- (void)locationSharingExpired:(id)arg1;
- (void)didSendLiveLocationMessage:(id)arg1 timeToGetLocation:(double)arg2;
- (void)didCancelSendOfLiveLocationMessage:(id)arg1;
- (void)sharingDidEndWithDuration:(double)arg1 reason:(int)arg2 message:(id)arg3;
- (void)willSendWithDuration:(double)arg1 entrypoint:(int)arg2;
- (void)sendPushBackoffRequest:(double)arg1 completion:(CDUnknownBlockType)arg2;
- (void)setPushBackoff:(double)arg1;
- (void)updatePushBackoff;
- (void)stopReportingSession;
- (void)startReportingSession;
- (BOOL)requestLocationRetryFrom:(id)arg1 retryCount:(int)arg2;
- (void)completeRetryMessageTaskForParticipant:(id)arg1;
- (void)didEncryptForRetryWithFanout:(id)arg1 intendedRecipient:(id)arg2 result:(id)arg3 retryCount:(int)arg4 error:(id)arg5;
- (void)addAndSendRetryForParticipant:(id)arg1 retryCount:(unsigned int)arg2;
- (void)handleRetryFromParticipant:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(unsigned int)arg3;
- (void)sendRetryDenyToParticipant:(id)arg1;
- (BOOL)shouldRequestRetriesFrom:(id)arg1;
- (id)myCachedLocationInChat:(id)arg1;
- (void)setLocationEndDateToNowForMessageWithUniqueKey:(id)arg1 participant:(id)arg2 inChat:(id)arg3;
- (void)updateMessageForParticipant:(id)arg1 whoDidStopSharingInChat:(id)arg2;
- (void)retryStopSharingRequests;
- (void)unconditionallyTellServerToStopSharingWithContact:(id)arg1 requestID:(id)arg2;
- (void)tellServerToStopSharingWithContact:(id)arg1 requestID:(id)arg2;
- (void)checkLocationEligibilityOfParticipants:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reallySendLiveLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 sender:(id)arg4 entrypoint:(int)arg5 contact:(id)arg6 initialLocation:(id)arg7 completion:(CDUnknownBlockType)arg8;
- (void)reallyStopSharingLocationWithContact:(id)arg1 message:(id)arg2 userOriginatedCancel:(BOOL)arg3;
- (void)beginSharingLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 forContactJID:(id)arg4 initialLocation:(id)arg5 sender:(id)arg6 entrypoint:(int)arg7 completion:(CDUnknownBlockType)arg8;
- (void)stopSharingLocationInMessage:(id)arg1 contact:(id)arg2 userOriginatedCancel:(BOOL)arg3;
- (void)stopSharingLocationWithContactJID:(id)arg1 userOriginatedCancel:(BOOL)arg2;
- (id)locationKeyDistributionStanzaForPayload:(id)arg1 retryCount:(int)arg2;
- (void)sendLocationKeyDistributionNotificationToParticipant:(id)arg1 encryptResult:(id)arg2 retryCount:(int)arg3;
- (void)sendLocationKeyDistributionNotificationTo:(id)arg1;
- (void)processDecryptedLocationUpdate:(id)arg1 elapsed:(int)arg2 from:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)decryptRequestDidComplete:(id)arg1 forParticipant:(id)arg2 error:(id)arg3;
- (void)decryptLocationRequest:(id)arg1 from:(id)arg2 completion:(CDUnknownBlockType)arg3;
- (void)decryptLocation:(id)arg1 from:(id)arg2 completion:(CDUnknownBlockType)arg3;
- (id)liveLocationInMessage:(id)arg1 elapsed:(int)arg2;
- (void)didEncryptLocationWithFanout:(id)arg1 ciphertext:(id)arg2 timestamp:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (id)messageWithLocation:(id)arg1;
- (void)handleKeyDistributionMessage:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleRetryDeny:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reportLocation:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleLocationUpdate:(id)arg1 from:(id)arg2;
- (void)handleRetry:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)groupMembershipDidGrow:(id)arg1;
- (void)setLocationSharingEndDate:(id)arg1 lastUpdate:(id)arg2 forParticipant:(id)arg3 inChat:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)didReceiveChatWithLiveLocationEndDate:(id)arg1 lastUpdate:(id)arg2 messageUniqueKey:(id)arg3 sequenceNumber:(long long)arg4 forParticipant:(id)arg5 inChat:(id)arg6 latitude:(float)arg7 longitude:(float)arg8 locationMessage:(id)arg9 message:(id)arg10;
- (void)didReceiveChatWithLocationMessage:(id)arg1;
- (void)deleteAllState;
- (void)didBlockParticipant:(id)arg1;
- (void)willChangeNumber;
- (id)locationSenderWithJID:(id)arg1 inChat:(id)arg2;
- (BOOL)anyChatSet:(id)arg1 containsNoActiveChats:(id)arg2;
- (void)partitionChats:(id)arg1 intoActive:(out id *)arg2 inactive:(out id *)arg3;
- (void)senderDidDisableLocationSharing:(id)arg1;
- (void)userDisabledLocationSharing:(id)arg1 inChat:(id)arg2 sequenceNumber:(long long)arg3 completion:(CDUnknownBlockType)arg4;
- (void)stopSendingLocationUpdates;
- (void)startSendingLocationUpdatesForDuration:(double)arg1;
- (BOOL)canShareWithJIDs:(id)arg1;
- (id)locationSharingEndDateForContact:(id)arg1;
@property(readonly, nonatomic) int backoffStage;
- (void)dealloc;
- (id)initWithChatDataStores:(id)arg1 xmppConnection:(id)arg2;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned int hash;
@property(readonly) Class superclass;

@end

